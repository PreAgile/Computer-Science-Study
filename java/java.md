## Java

<details>
<summary>📚 공부한 자료</summary>

- 자바의 정석

</details>

### 1. JVM이 정확히 무엇이고, 어떤 기능을 하는지 설명해 주세요.

JVM이란 _Java 언어와, Java bytecode 로 컴파일 된 다른 언어들도 실행할 수 있게 해주는 환경을 만들어주는 가상 머신_ 입니다. 프로그래머가 작성한 언어를 컴퓨터가 이해하고 실행하기 위해서는 기계어로 컴파일 해야 합니다. Java(\*.java) 를 Java bytecode(\*.class) 로 컴파일 하는 것은 java compiler 가 합니다. Java bytecode 를 실제 기계어로 해석하는 일을 JVM 이 담당합니다.

- **그럼, 자바 말고 다른 언어는 JVM 위에 올릴 수 없나요?**
  - 있습니다. JVM 은 Java bytecode를 인식합니다. 즉, Java bytecode 로 컴파일 될 수 있는 다른 언어들도 실행할 수 있습니다. 대표적으로는 Scala, Groovy, Kotlin 등이 있습니다.
- **반대로 JVM 계열 언어를 일반적으로 컴파일해서 사용할 순 없나요?**
  - JVM 계열 언어도 직접 기계어로 변환해서 사용할 수 있습니다. 일부 JVM 구현체는 Ahead-Of-Time(AOT) 컴파일을 지원하여, 바이트코드를 실행 전에 기계어로 미리 컴파일할 수 있습니다.
- **VM은 어떤 것인가요?**
  - 가상머신은 물리적 컴퓨터의 디지털 버전입니다. 즉, 물리적 컴퓨터와 동일한 기능을 제공하지만, 소프트웨어 형태로 제공됩니다. 가상 머신에는 물리적 컴퓨터와 마찬가지로 자체 운영체제(Windows, Linux 등), 스토리지, 네트워킹 및 어플리케이션이 포함되어 있습니다. 하이퍼바이저가 가상 머신을 생성하고 실행하는 프로세스인데, 하이퍼바이저는 메모리 및 처리와 같은 단일 호스트 컴퓨터의 리소스를 가상으로 공유하여 호스트 컴퓨터위에서 여러 개의 가상 머신을 사용할 수 있게 합니다.
- **VM을 사용함으로써 얻을 수 있는 장점과 단점에 대해 설명해 주세요.**
  - 우선 가상머신을 사용하면, 플랫폼에 독립될 수 있습니다. 예를 들어, JVM 위에서 실행되는 Java 어플리케이션은 어떤 운영체제 위에서도 실행될 수 있습니다. 하지만 단점으로는, 가상 머신은 네이티브 호스트 상에서 실행할 때보다 추상화 계층이 도입되므로, 네이티브 실행 시에 비해 오버헤드가 발생할 수 있습니다.
- **JVM과 내부에서 실행되고 있는 프로그램은 부모 프로세스 - 자식 프로세스 관계를 갖고 있다고 봐도 무방한가요?**
  - 전통적인 의미의 "부모 프로세스-자식 프로세스" 로 보는 것은 정확하지 않습니다. JVM이 실행될 때, 운영체제는 JVM을 위한 프로세스를 생성합니다. 이 JVM 프로세스 내에서 자바 프로그램이 실행되며, 이것은 운영체제에 의해 별도의 자식 프로세스가 생성되는 것이 아닌 JVM 프로세스의 일부로 실행됩니다. 따라서 JVM 내부에서 실행되는 자바 프로그램은 JVM 프로세스의 스레드로서 작동합니다.
- **Java bytecode란 무엇인가요?**
  - Java bytecode 란 JVM 이 이해할 수 있는 언어로 변환된 자바 소스코드입니다. Java 컴파일러에 의해 변환된 코드의 명령어 크가 1 byte 라서 바이트 코드라고 불립니다.
- **그렇다면 Java는 컴파일 언어일까요, 인터프리터 언어일까요?**
  - 자바는 컴파일, 인터프리터 방식 모두 사용합니다. 우선 자바 컴파일러가 자바 바이트코드 로 컴파일 한다는 면에서 컴파일 언어의 특성을 가지고 있습니다. 하지만 자바 바이트코드는 JVM의 자바 인터프리터가 한 줄씩 읽으면서 컴퓨터가 이해할 수 있는 바이너리 코드로 번역한 후 실행합니다. 이 부분은 인터프리터 언어의 특성을 가지고 있다고 볼 수 있습니다. 따라서 자바는 하이브리드 언어라는 이름으로 불립니다.
- **JVM의 구조에 대해 설명해주세요.**

  <details>
  <summary>JVM 구조</summary>

  - JVM

  ![image](https://github.com/ddoddii/Computer-Science-Study/assets/95014836/2b417674-9775-408c-8bc5-25b877639daf)

  - Class Loader

  ![image](https://github.com/ddoddii/Computer-Science-Study/assets/95014836/cbdce3f2-d119-4548-98ff-1b4bd55137cb)

  - Execution Engine

  ![image](https://github.com/ddoddii/Computer-Science-Study/assets/95014836/ff138ec5-9227-4af8-8f03-aa79ade86093)

  - 출처 : [JVM 내부 구조 & 메모리 영역 💯 총정리](https://inpa.tistory.com/entry/JAVA-%E2%98%95-JVM-%EB%82%B4%EB%B6%80-%EA%B5%AC%EC%A1%B0-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD-%EC%8B%AC%ED%99%94%ED%8E%B8)

  </details>

- JVM의 구조는 크게 Class Loader, Runtime Data Area, Execution Engine, 영역으로 나눌 수 있습니다.
- Class Loader
  - 3가지 단계 (Loading, Linking, Initialization) 으로 구성됩니다.
  - 우선 자바 컴파일러를 통해서 .class 확장자를 가진 클래스 파일은 각 디렉토리에 흩어져 있고, 기본적인 라이브러리들의 클래스 파일은 $JAVA_HOME 내부 경로에 존재합니다. 각각의 클래스 파일을 찾아서 JVM의 메모리 영역인 Runtime Data Areas 에 로드해주는 역할을 합니다. 두번째로는 로드된 클래스를 검증하고 기본값으로 초기화하는 링킹 과정도 합니다. 세번째로는 static field 의 값들을 정의한 값으로 초기화하는 과정도 합니다.
- Execution Engine

  - 실행 엔진은 클래스 로더를 통해 런타임 데이터 영역에 배치된 바이트 코드를 명령어 단위로 읽어서 실행합니다.이 과정에서 실행엔진은 인터프리터와 JIT 컴파일러 두 가지 방식을 혼합하여 바이트 코드를 실행합니다. 기본적으로는 **인터프리터 방식**인데, 바이트코드를 한 줄마다 읽어서 해석하고 바로 실행합니다. 하지만 여러 번 호출되면 매번 해석하고 수행하는 과정은 번거롭기 때문에 반복되는 코드는 바이트 코드 전체를 컴파일하여 기계어로 번역하고 해당 메서드는 캐싱해 두었다가 바로 실행하는 **JIT 컴파일러 방식**도 같이 사용합니다.
  - 실행 엔진에는 Garbace Collector(GC) 도 포합되어 있습니다. GC는 JVM 상에서 더 이상 사용되지 않는 데이터가 할당되어있는 메모리를 해제시켜주는 장치입니다. GC가 동작하는 대상은, Heap 영역 내의 객체 중 참조되지 않는 데이터 입니다. GC가 주로 heap 영역을 대상으로 하는 이유는, heap 영역은 모두 공유되기 때문에, 하나의 메소드가 종료되어도 heap 영역의 데이터를 함부로 삭제할 수 없기 때문입니다. GC가 실행될때는 GC를 담당하는 쓰레드를 제외한 모든 쓰레드들은 작동이 일시적으로 정지되게 하는 Stop-the-World 현상이 발생합니다. 따라서 모든 쓰레드가 정지되기 때문에 성능이 저하됩니다. 그래서 적절한 빈도의 GC가 실행되도록 하는 점이 중요합니다.

- **JVM의 Runtime Data Area 영역은 무엇인가요?**
- **JVM, JDK, JRE, JIT 는 각각 무엇이고, 어떤 용도인가요?**
- **Java 메모리 영역 중 Stack 과 Heap 에는 각각 어떤 것이 저장되나요?**
- **Java 메모리의 있는 스택 프레임은 메서드가 종료되면 사라집니다. 하지만 힙 영역에 있는 객체들은 메서드가 종료되도 메모리에 남아 있습니다. 왜 그럴까요?**

### **2. final 키워드를 사용하면, 어떤 이점이 있나요?**

- **그렇다면 컴파일 과정에서, final 키워드는 다르게 취급되나요?**

### 3. 변수와 상수의 차이는 무엇인가요?

### 4. 부동소수점이 무엇인가요?

- **자바에서 실수형 계산을 정확하게 하기 위해서는 어떻게 해야 하나요?**

### 5. `==` 과 `equals` 의 차이점은 무엇인가요?

- **Object 의 `equals` 메서드는 어떻게 구현되어 있나요?**
- **아래의 코드는 어떤 결과가 나올까요? 이유를 설명해보세요.**

  ```java
  Integer a = new Integer(3);
  Integer b = new Integer(3);
  a == b
  ```

- **그럼, `equals()` 와 `hashcode()` 에 대해 설명해 주세요.**
- **본인이 hashcode() 를 정의해야 한다면, 어떤 점을 염두에 두고 구현할 것 같으세요?**
- **그렇다면 equals() 를 재정의 해야 할 때, 어떤 점을 염두에 두어야 하는지 설명해 주세요.**

### 6. 다형성은 무엇인가요? 또 언제 활용할 수 있을까요?

### 7. 인터페이스와 추상클래스의 차이점은 무엇일까요?

- **왜 클래스는 단일 상속만 가능한데, 인터페이스는 2개 이상 구현이 가능할까요?**
- **인터페이스에서, `default method` 란 어떤 것인가요?**

### 8. A 라는클래스에 특정코드를 주고 싶을때, 상속과 조합의 차이는 무엇이고, 각각의 장점을 설명해주세요.

### 9. 리플렉션에 대해 설명해 주세요.

- **의미만 들어보면 리플렉션은 보안적인 문제가 있을 가능성이 있어보이는데, 실제로 그렇게 생각하시나요? 만약 그렇다면, 어떻게 방지할 수 있을까요?**
- **리플렉션을 언제 활용할 수 있을까요?**

### 10. static class와 static method를 비교해 주세요.

- **static 을 사용하면 어떤 이점을 얻을 수 있나요? 어떤 제약이 걸릴까요?**
- **컴파일 과정에서 static 이 어떻게 처리되는지 설명해 주세요.**
